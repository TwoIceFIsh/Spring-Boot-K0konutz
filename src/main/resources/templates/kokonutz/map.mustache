<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Kakao 지도 시작하기</title>
</head>
<body>
<div id="map" style="width:500px;height:400px;"></div>
<script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=88ebb8c53a6311255103e83df3dda05c&libraries=services,clusterer,drawing"></script>

<script>

    fetch("/map/json/si.json")
            .then(response => {
                return response.json();
            })
            .then(jsondata => {


                let mapNumber = jsondata.features.length;
                console.log(mapNumber);

                for (let i = 0; i < mapNumber; i++) {
                    console.log(jsondata.features[i].properties.CTP_KOR_NM);
                }

            });


    // 지도에 폴리곤으로 표시할 영역데이터 배열입니다
    var areas = [
        {
            name: '서울',
            path: [
                new kakao.maps.LatLng(37.63633745484535, 126.98419895293965),
                new kakao.maps.LatLng(37.62979311656106, 126.96376722201323)

            ]
        }
    ];

    var mapContainer = document.getElementById('map'), // 지도를 표시할 div
            mapOption = {
                center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
                level: 8 // 지도의 확대 레벨
            };

    var map = new kakao.maps.Map(mapContainer, mapOption),
            customOverlay = new kakao.maps.CustomOverlay({}),
            infowindow = new kakao.maps.InfoWindow({removable: true});

    // 지도에 영역데이터를 폴리곤으로 표시합니다
    for (var i = 0, len = areas.length; i < len; i++) {
        displayArea(areas[i]);
    }

    // 다각형을 생상하고 이벤트를 등록하는 함수입니다
    function displayArea(area) {

        // 다각형을 생성합니다
        var polygon = new kakao.maps.Polygon({
            map: map, // 다각형을 표시할 지도 객체
            path: area.path,
            strokeWeight: 2,
            strokeColor: '#004c80',
            strokeOpacity: 0.8,
            fillColor: '#fff',
            fillOpacity: 0.7
        });


    }
</script>
</body>
</html>